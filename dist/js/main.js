(()=>{"use strict";const t=[{img:"/img/slide_1.png"},{img:"/img/slide_2.png"},{img:"/img/slide_3.png"}],e=document.querySelector(".slider__image"),o=document.querySelectorAll(".slider__dot");let n=0;function i(i){n!=i&&(o[n].classList.toggle("slider__dot_active"),o[i].classList.toggle("slider__dot_active"),e.src=t[i].img,n=i)}for(let t=0;t<o.length;t++)o[t].addEventListener("click",(()=>{i(t)}));function s(t,e,o,n,i,s,c){const a=document.createElement("div");a.classList.add("main-content__book-card");const l=document.createElement("img");l.classList.add("main-content__book-cover"),0==e?l.setAttribute("src","/img/example-cover.png"):l.setAttribute("src",e),l.setAttribute("alt","book cover");const r=document.createElement("div");r.classList.add("main-content__book-info");const u=document.createElement("p");u.classList.add("main-content__book-author"),u.textContent=t;const m=document.createElement("p");m.classList.add("main-content__book-name"),m.textContent=o;const d=document.createElement("div");d.classList.add("main-content__book-rating");for(let t=0;t<5;t++){let e=Math.floor(n),o=document.createElement("span");o.classList.add("main-content__book-rating-star"),o.textContent="★",e-1>=t&&o.classList.add("main-content__book-rating-star_active"),d.append(o)}const _=document.createElement("span");_.classList.add("main-content__book-reviews"),_.textContent=`${i} review`;const g=document.createElement("p");g.classList.add("main-content__book-description"),g.textContent=s;const b=document.createElement("p");b.classList.add("main-content__book-price"),b.textContent=c;const v=document.createElement("button");v.classList.add("button","button_buy-button","button_buy-button-active"),v.textContent="buy now",d.append(_),r.append(u,m,d,g,b,v),a.append(l,r),document.querySelector(".main-content__book-catalog").append(a)}setInterval((function(){n==t.length-1?i(0):i(n+1)}),5e3),document.querySelector(".header__shoping-cart-quantity"),document.querySelector(".header__shoping-cart-quantity-text");const c=["subject:Architecture","subject:Art","subject:Biography&Autobiography","subject:Business","subject:Crafts&Hobbies","subject:Drama","subject:Fiction","subject:Cooking","subject:Health&Fitness","subject:History","subject:Humor","subject:Poetry","subject:Psychology","subject:Science","subject:Technology","subject:Travel"],a=document.querySelector(".main-content__book-catalog"),l=document.querySelectorAll(".main-content__navigation-list-item");document.querySelector(".button_load-more-button");let r,u,m=[];async function d(t,e){u=0,r=e,a.replaceChildren(),m=[];let o=await async function(t,e){let o=[];return await fetch(`https://www.googleapis.com/books/v1/volumes?q="${t}"&key=AIzaSyDQNaxmJEUQ2_ySf9hL41JpK439DoaBxwY&printType=books&startIndex=0&maxResults=6&langRestrict=en`).then((t=>t.json())).then((t=>{let e={};for(let n=0;n<6;n++){if(e={},null==t.items[n].volumeInfo.authors)e.author="no author";else if(t.items[n].volumeInfo.authors.length>1){let o=t.items[n].volumeInfo.authors.join(", ");e.author=o}else e.author=t.items[n].volumeInfo.authors[0];null==t.items[n].volumeInfo.imageLinks?e.cover=!1:e.cover=t.items[n].volumeInfo.imageLinks.thumbnail,e.title=t.items[n].volumeInfo.title,e.rating=t.items[n].volumeInfo.averageRating,null==t.items[n].volumeInfo.ratingsCount?e.reviews="No":e.reviews=t.items[n].volumeInfo.ratingsCount,e.description=t.items[n].volumeInfo.description,"NOT_FOR_SALE"==t.items[n].saleInfo.saleability?e.price="no data":"FREE"==t.items[n].saleInfo.saleability?e.price="free":e.price=`${t.items[n].saleInfo.retailPrice.amount} ₽`,o.push(e)}})),o}(t);document.querySelector(".main-content__navigation-list-item-active").classList.toggle("main-content__navigation-list-item-active"),l[e].classList.toggle("main-content__navigation-list-item-active"),console.log(o),console.log(t);for(let t=0;t<6;t++)m.push(o[t]),s(o[t].author,o[t].cover,o[t].title,o[t].rating,o[t].reviews,o[t].description,o[t].price)}d(c[0],0);for(let t=0;t<l.length;t++)l[t].addEventListener("click",(()=>{console.log(t),d(c[t],t)})),console.log("ok")})();